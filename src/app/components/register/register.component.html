<section class="bg-main-light shadow p-2 my-2 rounded">
    <h1 class="h2 text-main">Register Now:</h1>

    <form  [formGroup]="registerform" (ngSubmit)="registersubmit()">
      <div class="my-2">
        <label for="name">name</label>
        <input [ngClass]="{
            'is-valid':!registerform.get('name')?.errors && (registerform.get('name')?.touched ||registerform.get('name')?.dirty),
             'is-invalid':registerform.get('name')?.errors && (registerform.get('name')?.touched ||registerform.get('name')?.dirty)
        }" type="text" id="name" class="form-control " formControlName="name">
             @if (registerform.get('name')?.errors && (registerform.get('name')?.touched ||registerform.get('name')?.dirty)) {
                <div class="w-50 alert alert-danger">
                    @if (registerform.get('name')?.getError('required')) {<p class="m-0">name is required</p>}
                    @else if (registerform.get('name')?.getError('minlength')) {<p class="m-0"  >minlength is 3</p>}
                    @else if (registerform.get('name')?.getError('maxlength')) {<p class="m-0">maxlength is 3</p>}
                    
                </div>
             } 
      </div>
      <div class="my-2">
        <label for="email">email</label>
        <input  [ngClass]="{
            'is-valid':!registerform.get('email')?.errors && (registerform.get('email')?.touched ||registerform.get('email')?.dirty),
             'is-invalid':registerform.get('email')?.errors && (registerform.get('email')?.touched ||registerform.get('email')?.dirty)
        }"
         type="email" id="email" class="form-control " formControlName="email">
        @if (registerform.get('email')?.errors && (registerform.get('email')?.touched ||registerform.get('email')?.dirty)) {
            <div class="w-50 alert alert-danger">
                @if (registerform.get('email')?.getError('required')) {<p class="m-0">email is required</p>}
                @else if (registerform.get('email')?.getError('email')) {<p class="m-0"  >inter valid email</p>}
                
            </div>
         }
      </div>
      <div class="my-2">
        <label for="phone">phone</label>
        <input [ngClass]="{
            'is-valid':!registerform.get('phone')?.errors && (registerform.get('phone')?.touched ||registerform.get('phone')?.dirty),
             'is-invalid':registerform.get('phone')?.errors && (registerform.get('phone')?.touched ||registerform.get('phone')?.dirty)
        }"
         type="tel" id="phone" class="form-control " formControlName="phone">
        @if (registerform.get('phone')?.errors && (registerform.get('phone')?.touched||registerform.get('phone')?.dirty)) {
            <div class="w-50 alert alert-danger">
                @if (registerform.get('phone')?.getError('required')) {<p class="m-0">phone is required</p>}
                @else if (registerform.get('phone')?.getError('pattern')) {<p class="m-0"  >inter valid phone number</p>}
                
            </div>
         }
      </div>
      <div class="my-2">
        <label for="passward">passward</label>
        <input [ngClass]="{
            'is-valid':!registerform.get('password')?.errors && (registerform.get('password')?.touched ||registerform.get('password')?.dirty),
             'is-invalid':registerform.get('password')?.errors && (registerform.get('password')?.touched ||registerform.get('password')?.dirty)
        }"
        type="password" id="passward" class="form-control " formControlName="password">
        @if (registerform.get('password')?.errors &&  (registerform.get('password')?.touched||registerform.get('password')?.dirty)) {
            <div class="w-50 alert alert-danger">
                @if (registerform.get('password')?.getError('required')) {<p class="m-0">password is required</p>}
                @else if (registerform.get('password')?.getError('pattern')) {<p class="m-0"  >inter valid password </p>}
                
            </div>
         }
      </div>
      <div class="my-2">
        <label for="rePassward">rePassward</label>
        <input [ngClass]="{
            'is-valid':!registerform.getError('mismatch') && (registerform.get('rePassword')?.touched||registerform.get('rePassword')?.dirty ),
             'is-invalid':registerform.getError('mismatch') && (registerform.get('rePassword')?.touched||registerform.get('rePassword')?.dirty )
        }" 
         type="password" id="rePassward" class="form-control " formControlName="rePassword">
        @if ( registerform.getError('mismatch') && (registerform.get('rePassword')?.touched||registerform.get('rePassword')?.dirty )) {
            <p class="alert alert-danger m-0 w-50"> write the same poassword</p>
        }
      </div>
       <button  class="btn-main ms-auto d-block" type="submit">Register 
        @if(spin){
            <span><i class="fas fa-spin fa-spinner"></i></span>
        }
        
       </button>
          @if (errormessage) {<p class="alert-danger alert m-0  w-50" >{{errormessage}}</p>}

          @if (messagesuccess) {
            <p class="text-center  "> success</p>
          }
       
    </form>



</section>
